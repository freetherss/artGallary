# 소프트웨어 요구사항 명세서 (SRS): 개인 갤러리 웹 앱

## 1. 개요
- **목적:** 'JIW Gallery' 개인 갤러리 웹 애플리케이션 개발에 필요한 기능적, 비기능적 요구사항을 정의한다.

## 2. 기능 요구사항

### FR-1: 이미지 업로드
- 시스템은 사용자가 로컬 장치에서 이미지 파일을 업로드하는 것을 허용해야 한다.
- 지원 포맷: JPEG, PNG
- 최대 파일 크기: 10MB

### FR-2: 게시물 작성
- 시스템은 새 게시물 작성을 위한 입력 폼(Form)을 제공해야 한다.
- 입력 폼은 이미지 파일 선택, 다중 라인을 지원하는 설명글 입력 필드, 해시태그 입력 필드를 반드시 포함해야 한다. (해시태그는 쉼표로 구분하여 입력)

### FR-3: 갤러리 표시
- 메인 페이지는 모든 게시물을 반응형 격자(Grid) 레이아웃으로 표시해야 한다.
- 격자의 각 항목은 해당 게시물의 이미지 썸네일을 표시해야 한다.

### FR-4: 게시물 상세 보기
- 갤러리에서 특정 게시물의 썸네일을 클릭하면 해당 게시물 전용 상세 페이지로 이동해야 한다.
- 상세 페이지는 원본 크기 이미지, 전체 설명글, 클릭 가능한 해시태그 목록을 표시해야 한다.

### FR-5: 게시물 수정
- 시스템은 기존 게시물의 설명글과 해시태그를 수정할 수 있는 방법을 제공해야 한다.

### FR-6: 게시물 삭제
- 시스템은 게시물을 영구적으로 삭제할 수 있는 방법을 제공해야 한다.

### FR-7: 해시태그 필터링
- 상세 보기 페이지와 갤러리 뷰에서 해시태그는 클릭 가능한 링크로 렌더링되어야 한다.
- 해시태그 링크를 클릭하면 해당 해시태그를 포함하는 게시물만 메인 갤러리 뷰에 필터링되어 표시되어야 한다.

### FR-8: 초기 페이지 규정
- 애플리케이션의 웹 프론트엔드는 `TEXT/index.html` 파일을 시작점으로 한다.
- 개발 환경에서 라이브 서버 확장 프로그램을 실행할 경우, `TEXT/` 디렉토리를 루트로 하여 `index.html`이 기본 페이지로 표시되어야 한다.

### FR-9: 사용자 인증 (Authentication)
- 시스템은 사용자가 ID와 비밀번호를 사용하여 로그인할 수 있는 기능을 제공해야 한다.
- 인증된 사용자만 게시물 생성, 수정, 삭제 기능을 이용할 수 있다.

### FR-10: 역할 기반 접근 제어 (Authorization)
- 시스템은 `admin`과 `guest` 두 가지 사용자 역할을 지원해야 한다.
- **`admin` 역할:** 시스템에 등록된 모든 게시물에 대해 생성, 조회, 수정, 삭제(CRUD) 작업을 수행할 수 있다.
- **`guest` 역할:** 자신이 생성한 게시물에 대해서만 수정 및 삭제 작업을 수행할 수 있다. 모든 게시물 조회 및 새 게시물 생성이 가능하다.

### FR-11: 게시물 소유권
- 시스템은 각 게시물을 생성한 사용자와 명확하게 연결해야 한다.
- 게시물 데이터 모델은 작성자(소유자)의 정보를 포함해야 한다.

## 3. 비기능 요구사항

### NFR-1: 성능
- 갤러리 페이지는 일반적인 유선 인터넷 환경에서 3초 이내에 로드되어야 한다.

### NFR-2: 사용성
- 사용자 인터페이스는 직관적이어야 하며, 일반적인 웹 사용자라면 별도의 교육 없이 사용할 수 있어야 한다.

### NFR-3: 호환성
- 애플리케이션은 최신 버전의 Chrome, Firefox, Safari 브라우저에서 완벽하게 작동해야 한다.

### NFR-4: 기술 스택 (제안)
- **프론트엔드:** HTML, CSS, JavaScript
- **백엔드:** Java, Spring Boot (현재 프로젝트 구성 기반)
- **데이터베이스:** H2 (개발용) / PostgreSQL 또는 MySQL (운영용). 게시물 메타데이터(설명, 이미지 경로, 태그 등) 저장.
- **파일 저장소:** 로컬 파일 시스템에 업로드된 이미지 저장.

## 4. 보안 요구사항 (Security Requirements)

### SR-1: JWT 보안 (JWT Security)
- **요구사항:** JWT(JSON Web Token) 서명에 사용되는 비밀 키는 소스 코드나 설정 파일에 하드코딩되어서는 안 된다.
- **구현 방안:** 비밀 키는 운영 환경의 환경 변수(Environment Variable) 또는 외부 보안 저장소(예: Vault, AWS Secrets Manager)를 통해 런타임에 주입되어야 한다. `application.properties` 파일에는 실제 키 대신 플레이스홀더(placeholder)를 사용해야 한다.

### SR-2: 파일 업로드 보안 (File Upload Security)
- **요구사항:** 시스템은 악의적인 파일(예: 웹 쉘, 실행 파일, 스크립트)이 업로드되는 것을 방지해야 한다.
- **구현 방안:**
    - 파일 업로드 시, 서버 측에서 파일의 확장자를 확인하여 허용된 이미지 확장자(예: `jpg`, `jpeg`, `png`, `gif`) 목록(Whitelist)과 일치하는지 검증해야 한다.
    - 더 높은 수준의 보안을 위해, 파일의 MIME 타입 또는 매직 바이트(Magic Bytes)를 분석하여 파일 콘텐츠가 실제 이미지 데이터인지 확인하는 과정을 추가할 수 있다.
    - 허용되지 않은 파일 타입은 즉시 거부하고 사용자에게 오류를 반환해야 한다.
